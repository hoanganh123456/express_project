{"version":3,"sources":["../../../app/routes/speakes.js"],"names":["express","require","router","Router","get","req","res","data","app","pagePhotos","pageSpeakers","speakers","forEach","item","concat","artwork","render","pageTitle","pageID","shortname","params","speakersid","push","module","exports"],"mappings":";;AAAA;;;AAGA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,SAASF,QAAQG,MAAR,EAAf;;AAEAD,OAAOE,GAAP,CAAW,WAAX,EAAuB,UAAUC,GAAV,EAAcC,GAAd,EAAmB;AACtC;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ;AACA,QAAKC,OAAOF,IAAIG,GAAJ,CAAQJ,GAAR,CAAY,SAAZ,CAAZ;AACA,QAAIK,aAAa,EAAjB;;AAEA,QAAIC,eAAeH,KAAKI,QAAxB;AACAJ,SAAKI,QAAL,CAAcC,OAAd,CAAsB,UAASC,IAAT,EAAc;AAChCJ,qBAAaA,WAAWK,MAAX,CAAkBD,KAAKE,OAAvB,CAAb,CADgC,CACa;AAChD,KAFD;;AAIAT,QAAIU,MAAJ,CAAW,UAAX,EAAsB;AAClBC,mBAAW,UADO;AAElBF,iBAAUN,UAFQ;AAGlBE,kBAAWD,YAHO;AAIlBQ,gBAAQ;AAJU,KAAtB;AAMH,CAnCD;;AAqCAhB,OAAOE,GAAP,CAAW,uBAAX,EAAmC,UAAUC,GAAV,EAAcC,GAAd,EAAmB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAKC,OAAOF,IAAIG,GAAJ,CAAQJ,GAAR,CAAY,SAAZ,CAAZ;AACA,QAAIK,aAAa,EAAjB;AACA,QAAIC,eAAe,EAAnB;AACAH,SAAKI,QAAL,CAAcC,OAAd,CAAsB,UAASC,IAAT,EAAc;AAChC,YAAGA,KAAKM,SAAL,IAAkBd,IAAIe,MAAJ,CAAWC,UAAhC,EAA2C;AACvCX,yBAAaY,IAAb,CAAkBT,IAAlB;AACAJ,yBAAaA,WAAWK,MAAX,CAAkBD,KAAKE,OAAvB,CAAb,CAFuC,CAEM;AAChD;AACJ,KALD;;AAOAT,QAAIU,MAAJ,CAAW,UAAX,EAAsB;AAClBC,mBAAW,eADO;AAElBF,iBAAUN,UAFQ;AAGlBE,kBAAWD,YAHO;AAIlBQ,gBAAQ;AAJU,KAAtB;AAOH,CA5BD;;AA8BAK,OAAOC,OAAP,GAAiBtB,MAAjB","file":"speakes.js","sourcesContent":["/**\n * Created by hoanganh on 03/08/2017.\n */\nconst express = require('express');\nconst router = express.Router();\n\nrouter.get('/speakers',function (req,res) {\n    // express co ban\n        // let dataFile = req.app.get('appData');\n        // let info = ''\n        // dataFile.speakers.forEach(function (item) {\n        //     info += `\n        //\n        //     <li>\n        //         <h2>${item.name}</h2>\n        //         <img src=\"/images/speakers/${item.shortname}_tn.jpg\" alt=\"item\">\n        //         <p>${item.summary}</p>\n        //     </li>\n        //     `;\n        // });\n        // res.send(\n        //   ` <link rel=\"stylesheet\" href=\"/css/style.css\">\n        //      <h1>Roux Academy Meetups</h1>\n        //     ${info}\n        //     <script src=\"/reload/reload.js\"></script>\n        //     `)\n    // su dung ejs\n    let  data = req.app.get('appData');\n    let pagePhotos = [];\n\n    let pageSpeakers = data.speakers;\n    data.speakers.forEach(function(item){\n        pagePhotos = pagePhotos.concat(item.artwork);// noi voi mang\n    });\n\n    res.render('speakers',{\n        pageTitle: 'Speakers',\n        artwork : pagePhotos,\n        speakers : pageSpeakers,\n        pageID: 'speakerslist'\n    });\n});\n\nrouter.get('/speakers/:speakersid',function (req,res) {\n    // let dataFile = req.app.get('appData');\n    // let speaker = dataFile.speakers[req.params.speakersid];\n    // res.send(\n    //     ` <link rel=\"stylesheet\" href=\"/css/style.css\">\n    //      <h1>${speaker.title}</h1>\n    //      <h2>with ${speaker.name}</h2>\n    //      <img src=\"/images/speakers/${speaker.shortname}_tn.jpg\" alt=\"speaker\">\n    //      <p>${speaker.summary}</p>\n    //      <script src=\"/reload/reload.js\"></script>\n    //     `);\n    let  data = req.app.get('appData');\n    let pagePhotos = [];\n    let pageSpeakers = [];\n    data.speakers.forEach(function(item){\n        if(item.shortname == req.params.speakersid){\n            pageSpeakers.push(item);\n            pagePhotos = pagePhotos.concat(item.artwork);// noi voi mang\n        }\n    });\n\n    res.render('speakers',{\n        pageTitle: 'Speakers info',\n        artwork : pagePhotos,\n        speakers : pageSpeakers,\n        pageID: 'speakersDetail'\n    });\n\n});\n\nmodule.exports = router;"]}