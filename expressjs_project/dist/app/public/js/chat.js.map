{"version":3,"sources":["../../../../app/public/js/chat.js"],"names":["socket","io","chatForm","document","forms","chatUsername","querySelector","chatMessage","on","addEventListener","e","preventDefault","emit","username","value","message","focus","data","showMessage","chatDisplay","newMessage","createElement","className","innerHTML","insertBefore","firstChild"],"mappings":";;AAAA,IAAIA,SAASC,IAAb;AACA,IAAIC,WAAWC,SAASC,KAAT,CAAeF,QAA9B;AACA,IAAIG,eAAeF,SAASG,aAAT,CAAuB,gBAAvB,CAAnB;AACA,IAAIC,cAAcJ,SAASG,aAAT,CAAuB,eAAvB,CAAlB;;AAGAN,OAAOQ,EAAP,CAAU,SAAV,EAAoB,YAAY;AAC5B,QAAGN,QAAH,EAAY;;AAERA,iBAASO,gBAAT,CAA0B,QAA1B,EAAmC,UAAUC,CAAV,EAAa;AAC5CA,cAAEC,cAAF;AACAX,mBAAOY,IAAP,CAAY,aAAZ,EAA2B;AACvBC,0BAAWR,aAAaS,KADD;AAEvBC,yBAAUR,YAAYO;AAFC,aAA3B;AAIA;AACA;AACA;AACAP,wBAAYO,KAAZ,GAAoB,EAApB;AACAP,wBAAYS,KAAZ;AACH,SAXD,EAFQ,CAaL;;AAEHhB,eAAOQ,EAAP,CAAU,eAAV,EAA0B,UAAUS,IAAV,EAAgB;AACtCC,wBAAYD,IAAZ;AACH,SAFD,EAfQ,CAiBN;AACL,KAnB2B,CAmB3B;AACJ,CApBD;AAqBA,SAASC,WAAT,CAAqBD,IAArB,EAA2B;AACvB,QAAIE,cAAchB,SAASG,aAAT,CAAuB,eAAvB,CAAlB;AACA,QAAIc,aAAajB,SAASkB,aAAT,CAAuB,GAAvB,CAAjB;AACA,QAAGhB,aAAaS,KAAb,IAAsBG,KAAKJ,QAA9B,EAAuC;AACnCO,mBAAWE,SAAX,GAAuB,sBAAvB;AACH,KAFD,MAGK;AACDF,mBAAWE,SAAX,GAAuB,gCAAvB;AACH;;AAEDF,eAAWG,SAAX,GAAuB,aAAaN,KAAKJ,QAAlB,GAA6B,cAA7B,GAA8CI,KAAKF,OAA1E;AACAI,gBAAYK,YAAZ,CAAyBJ,UAAzB,EAAoCD,YAAYM,UAAhD;AAEH","file":"chat.js","sourcesContent":["let socket = io();\nlet chatForm = document.forms.chatForm;\nlet chatUsername = document.querySelector('#chat-username');\nlet chatMessage = document.querySelector('#chat-message');\n\n\nsocket.on('connect',function () {\n    if(chatForm){\n\n        chatForm.addEventListener('submit',function (e) {\n            e.preventDefault();\n            socket.emit('postMessage', {\n                username : chatUsername.value,\n                message : chatMessage.value,\n            });\n            // showMessage({\n            //\n            // });\n            chatMessage.value = '';\n            chatMessage.focus();\n        });//chatfrom event\n\n        socket.on('updateMessage',function (data) {\n            showMessage(data);\n        })// updateMessage\n    }//chat form\n});\nfunction showMessage(data) {\n    let chatDisplay = document.querySelector('.chat-display');\n    let newMessage = document.createElement('p');\n    if(chatUsername.value == data.username){\n        newMessage.className = 'bg-success chat-text';\n    }\n    else {\n        newMessage.className = 'bg-info text-warning chat-text';\n    }\n\n    newMessage.innerHTML = '<strong>' + data.username + '</strong> : ' + data.message;\n    chatDisplay.insertBefore(newMessage,chatDisplay.firstChild);\n\n}\n\n"]}